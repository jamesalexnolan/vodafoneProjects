<style id="vt693_SO">
   
</style>

<style id="vt693_C">
    /*checkout styles*/
</style>

<script>
    //polling function config
    var vtxxx_nodeCheck_pxFuncFired = 0;
    var vtxxx_nodeCheck_pxInterval = setInterval(vtxxx_nodeCheck_pxPollFunc, 100); //0.1 seconds * 20 = 2 seconds

    //polling function
    function vtxxx_nodeCheck_pxPollFunc() {
        vtxxx_nodeCheck_pxFuncFired += 1;

        if (vtxxx_nodeCheck_pxFuncFired >= 20) {
            //try 20 times, if not found, clear px func
            clearInterval(vtxxx_nodeCheck_pxInterval);
        }

        if (document.body.nodeType === 1) {
            //clear polling when found
            clearInterval(vtxxx_nodeCheck_pxInterval);
            //MUTATION OBSERVER
            let vtxxx_observer = new MutationObserver((mutations) => {
                mutations.forEach((mutation) => {
                    let vtxxx_oldValue = mutation.oldValue;
                    let vtxxx_newValue = mutation.target.textContent;
                    if (vtxxx_oldValue !== vtxxx_newValue) {
                        var vtxxxSimOnlyStyles = document.querySelector('[id="vt693_SO"]')
                        var vtxxxCheckoutStyles = document.querySelector('[id="vt693_C"]')
                        var vtxxxCROCheck = document.querySelector('.x77vt693')
                        //sim only
                        if (window.location.href.indexOf('/sim-only-plans') > -1) {
                            if (!vtxxxCROCheck) {
                                vtxxxSimOnlyChanges()
                                vtxxxSimOnlyStyles.innerHTML = '    /*sim only page styles*/    /*CTA styles*/    .k77vt693 {        display: inline-flex;        align-items: center;        justify-content: center;        box-sizing: border-box;        text-align: center;        position: relative;        transition: 0.4s;        line-height: 12px;        width: 100%;        height: 44px;        min-width: 152px;        font-weight: 400;        color: rgb(25, 23, 20);        background: rgb(255, 255, 255);        border-radius: 0px;        padding: 12px 20px;        border: 1px solid transparent;        text-decoration: none;    }    /*pop-up styles*/    .vt693_hidden {        display: none;    }    .vt693_pop-up_cont {        position: fixed;        z-index: 999999 !important;        width: 100%;        height: 100%;        top: 0;        left: 0;        transform: translateY(60%) scale(0);        transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);    }    .vt693_pop-up_cont-padding {        position: relative;        padding: 10px;        top: 50%;        left: 50%;        transform: translate(-50%, -50%);        background-color: white;        width: 736px;        height: auto;        display: grid;        justify-content: center;        align-content: center;        box-shadow: 5px 10px 10px rgba(16, 16, 16, 0.4);        background-repeat: no-repeat;        background-size: cover;        background-position: -20px;        width: 832px;    }    .vt693_show {        transform: translateY(0) scale(1);        background-color: rgba(16, 16, 16, 0.4);        transition: background-color 1s ease;    }    .vt693_pop-up_cont-content {        padding: 50px;    }    .vt693_pop-up_cont-content>h3 {        font-weight: bold;        font-size: xx-large;    }    .vt693_pop-up_cont-content>p {        margin: 20px 0px 20px 0px;    }    .vt693_pop-up_cont-content>a {        margin: 20px 0px 0px 0px;        display: flex;        justify-content: center;    }    .vtxxxCTAStylings {        justify-content: end;        width: 80%;    }    /*mobile styles*/    @media only screen and (max-width: 800px) {        .vt693_pop-up_cont-padding {            width: 400px;        }        .vtxxxCTAStylings {            width: 100%;        }        .vt693_pop-up_cont-content {            padding: 30px;        }        .vt693_pop-up_cont-content>p {            font-size: smaller;        }    }'
                            }
                        } else {
                            vtxxx_observer.disconnect()
                            vtxxxSimOnlyStyles.innerHTML = ''
                        }
                        //checkout
                        if (window.location.href.indexOf('/acquisition/checkout') > -1) {
                            if (!vtxxxCROCheck) {
                                vtxxxCheckoutChanges()
                                vtxxxCheckoutStyles.innerHTML = ''
                            } else {
                                vtxxx_observer.disconnect()
                            }
                        } else {
                            vtxxx_observer.disconnect()
                            vtxxxCheckoutStyles.innerHTML = ''
                        }
                    }
                });
            });

            vtxxx_observer.observe(document.body, {
                //characterDataOldValue: true,
                subtree: true,
                childList: true,
                //characterData: true,
                attributes: true
            });

            //Reconnect mutation observer if user navigates back 
            window.navigation.addEventListener("navigate", (event) => {
                //start observing again
                vtxxx_observer.observe(document.body, {
                    //characterDataOldValue: true,
                    subtree: true,
                    childList: true,
                    //characterData: true,
                    attributes: true
                });
            })
        }
        //functions to call
        //sim only func
        function vtxxxSimOnlyChanges() {
            var vtxxxCards = document.querySelectorAll('[aria-label="Choose this plan"]')
            if (vtxxxCards[0]) {
                //change CTA
                var vtxxxCTA = '<div class="j77vt693 x77vt693"> <p class="k77vt693">Choose this plan</p></div>'
                vtxxxCards[0].insertAdjacentHTML('afterEnd', vtxxxCTA)
                vtxxxCards[0].remove()
                //create and insert pop-up 
                var vtxxxPopUp = '<div class="vt693_pop-up_cont vt693_hidden"><div class="vt693_pop-up_cont-padding"><div class="vt693_pop-up_cont-content"><h4>Hold on a second...</h4><p>Would you like to get Unlimited Music + Video for only <strong>£2 extra</strong>?</p><div></div><a href="https://www.voxi.co.uk/acquisition/plans?planId=112839" class="y77vt693"><strong>No, continue with £10 plan</strong></a></div></div></div>'
                //insert pop-up
                document.querySelector('[id="root"]').insertAdjacentHTML('afterBegin', vtxxxPopUp)
                //populate card with copied html
                var vtxxxOrginalCard = document.querySelector('[id="plans-offers"]').children[1].innerHTML
                var vtxxxPopUpCard = document.querySelector('.vt693_pop-up_cont-content>div')
                vtxxxPopUpCard.innerHTML = vtxxxOrginalCard
                //replace original pop-up CTA
                var vtxxxCTA2 = '<div class="j77vt693 y77vt693"> <a href="https://www.voxi.co.uk/acquisition/plans?planId=119664" class="k77vt693">Yes, upgrade</a></div>'
                vtxxxPopUpCard.querySelector('div>div:nth-child(4)>div>div:nth-child(2)>div').innerHTML = vtxxxCTA2
                //click event to trigger pop-up
                var vtxxxPopUpInserted = document.querySelector('.vt693_pop-up_cont')
                //card adjustments
                vtxxxPopUpInserted.querySelector('div:nth-child(2)>div>div:nth-child(4)>div').classList.add('vtxxxCTAStylings')
                vtxxxPopUpInserted.querySelector('div:nth-child(2)>div>div:nth-child(4)>div>div:nth-child(1)').remove()

                document.querySelector('.x77vt693').addEventListener('click', function () {
                    //show pop-up
                    vtxxxPopUpInserted.classList.remove('vt693_hidden')
                    vtxxxPopUpInserted.classList.add('vt693_show')
                })
                //click to remove pop-up
                var vtxxxLinks = document.querySelectorAll('.y77vt693')
                vtxxxLinks.forEach(function (vtxxxLink) {
                    vtxxxLink.addEventListener('click', function () {
                        vtxxxPopUpInserted.remove()
                    })
                })
            }
        }
        //checkout func
        function vtxxxCheckoutChanges() { }
    }
</script>